import{S as no,i as ro,s as ao,L as ko,e as we,b as w,M as So,f as ye,A as R,h as l,N as No,O as Z,P as J,m as g,n as k,B as o,Q as pa,K as ha,q as c,r as h,G as io,H as oo,R as Do,k as b,a as D,v as $o,l as y,c as $,w as Go,x as Io,t as Oo,y as To}from"./index-30b72abd.js";import{a as Vo,f as Co}from"./index-30025b8e.js";import{f as Po}from"./GovtBalanceData-809c4fcd.js";function bn(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Lo(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function lo(e){let t,n,r;e.length!==2?(t=bn,n=(s,p)=>bn(e(s),p),r=(s,p)=>e(s)-p):(t=e===bn||e===Lo?e:Ho,n=e,r=e);function i(s,p,x=0,_=s.length){if(x<_){if(t(p,p)!==0)return _;do{const v=x+_>>>1;n(s[v],p)<0?x=v+1:_=v}while(x<_)}return x}function f(s,p,x=0,_=s.length){if(x<_){if(t(p,p)!==0)return _;do{const v=x+_>>>1;n(s[v],p)<=0?x=v+1:_=v}while(x<_)}return x}function u(s,p,x=0,_=s.length){const v=i(s,p,x,_-1);return v>x&&r(s[v-1],p)>-r(s[v],p)?v-1:v}return{left:i,center:u,right:f}}function Ho(){return 0}function Ro(e){return e===null?NaN:+e}const zo=lo(bn),Ao=zo.right;lo(Ro).center;const Bo=Ao;class Gi extends Map{constructor(t,n=Fo){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(Ii(this,t))}has(t){return super.has(Ii(this,t))}set(t,n){return super.set(jo(this,t),n)}delete(t){return super.delete(qo(this,t))}}function Ii({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function jo({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function qo({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function Fo(e){return e!==null&&typeof e=="object"?e.valueOf():e}var ga=Math.sqrt(50),xa=Math.sqrt(10),va=Math.sqrt(2);function Wo(e,t,n){var r,i=-1,f,u,s;if(t=+t,e=+e,n=+n,e===t&&n>0)return[e];if((r=t<e)&&(f=e,e=t,t=f),(s=so(e,t,n))===0||!isFinite(s))return[];if(s>0){let p=Math.round(e/s),x=Math.round(t/s);for(p*s<e&&++p,x*s>t&&--x,u=new Array(f=x-p+1);++i<f;)u[i]=(p+i)*s}else{s=-s;let p=Math.round(e*s),x=Math.round(t*s);for(p/s<e&&++p,x/s>t&&--x,u=new Array(f=x-p+1);++i<f;)u[i]=(p+i)/s}return r&&u.reverse(),u}function so(e,t,n){var r=(t-e)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),f=r/Math.pow(10,i);return i>=0?(f>=ga?10:f>=xa?5:f>=va?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(f>=ga?10:f>=xa?5:f>=va?2:1)}function Xo(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),f=r/i;return f>=ga?i*=10:f>=xa?i*=5:f>=va&&(i*=2),t<e?-i:i}function Uo(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,f=new Array(i);++r<i;)f[r]=e+r*n;return f}function _a(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}const Oi=Symbol("implicit");function fo(){var e=new Gi,t=[],n=[],r=Oi;function i(f){let u=e.get(f);if(u===void 0){if(r!==Oi)return r;e.set(f,u=t.push(f)-1)}return n[u%n.length]}return i.domain=function(f){if(!arguments.length)return t.slice();t=[],e=new Gi;for(const u of f)e.has(u)||e.set(u,t.push(u)-1);return i},i.range=function(f){return arguments.length?(n=Array.from(f),i):n.slice()},i.unknown=function(f){return arguments.length?(r=f,i):r},i.copy=function(){return fo(t,n).unknown(r)},_a.apply(i,arguments),i}function uo(){var e=fo().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,f,u,s=!1,p=0,x=0,_=.5;delete e.unknown;function v(){var d=t().length,M=i<r,m=M?i:r,G=M?r:i;f=(G-m)/Math.max(1,d-p+x*2),s&&(f=Math.floor(f)),m+=(G-m-f*(d-p))*_,u=f*(1-p),s&&(m=Math.round(m),u=Math.round(u));var P=Uo(d).map(function(V){return m+f*V});return n(M?P.reverse():P)}return e.domain=function(d){return arguments.length?(t(d),v()):t()},e.range=function(d){return arguments.length?([r,i]=d,r=+r,i=+i,v()):[r,i]},e.rangeRound=function(d){return[r,i]=d,r=+r,i=+i,s=!0,v()},e.bandwidth=function(){return u},e.step=function(){return f},e.round=function(d){return arguments.length?(s=!!d,v()):s},e.padding=function(d){return arguments.length?(p=Math.min(1,x=+d),v()):p},e.paddingInner=function(d){return arguments.length?(p=Math.min(1,d),v()):p},e.paddingOuter=function(d){return arguments.length?(x=+d,v()):x},e.align=function(d){return arguments.length?(_=Math.max(0,Math.min(1,d)),v()):_},e.copy=function(){return uo(t(),[r,i]).round(s).paddingInner(p).paddingOuter(x).align(_)},_a.apply(v(),arguments)}function Ea(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function co(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function zt(){}var Lt=.7,yn=1/Lt,Xe="\\s*([+-]?\\d+)\\s*",Ht="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ce="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Yo=/^#([0-9a-f]{3,8})$/,Ko=new RegExp(`^rgb\\(${Xe},${Xe},${Xe}\\)$`),Qo=new RegExp(`^rgb\\(${ce},${ce},${ce}\\)$`),Zo=new RegExp(`^rgba\\(${Xe},${Xe},${Xe},${Ht}\\)$`),Jo=new RegExp(`^rgba\\(${ce},${ce},${ce},${Ht}\\)$`),el=new RegExp(`^hsl\\(${Ht},${ce},${ce}\\)$`),tl=new RegExp(`^hsla\\(${Ht},${ce},${ce},${Ht}\\)$`),Ti={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ea(zt,Rt,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Vi,formatHex:Vi,formatHex8:nl,formatHsl:rl,formatRgb:Ci,toString:Ci});function Vi(){return this.rgb().formatHex()}function nl(){return this.rgb().formatHex8()}function rl(){return ho(this).formatHsl()}function Ci(){return this.rgb().formatRgb()}function Rt(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Yo.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Pi(t):n===3?new q(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?gn(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?gn(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Ko.exec(e))?new q(t[1],t[2],t[3],1):(t=Qo.exec(e))?new q(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Zo.exec(e))?gn(t[1],t[2],t[3],t[4]):(t=Jo.exec(e))?gn(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=el.exec(e))?Ri(t[1],t[2]/100,t[3]/100,1):(t=tl.exec(e))?Ri(t[1],t[2]/100,t[3]/100,t[4]):Ti.hasOwnProperty(e)?Pi(Ti[e]):e==="transparent"?new q(NaN,NaN,NaN,0):null}function Pi(e){return new q(e>>16&255,e>>8&255,e&255,1)}function gn(e,t,n,r){return r<=0&&(e=t=n=NaN),new q(e,t,n,r)}function al(e){return e instanceof zt||(e=Rt(e)),e?(e=e.rgb(),new q(e.r,e.g,e.b,e.opacity)):new q}function ba(e,t,n,r){return arguments.length===1?al(e):new q(e,t,n,r==null?1:r)}function q(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Ea(q,ba,co(zt,{brighter(e){return e=e==null?yn:Math.pow(yn,e),new q(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Lt:Math.pow(Lt,e),new q(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new q(Oe(this.r),Oe(this.g),Oe(this.b),wn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Li,formatHex:Li,formatHex8:il,formatRgb:Hi,toString:Hi}));function Li(){return`#${Ie(this.r)}${Ie(this.g)}${Ie(this.b)}`}function il(){return`#${Ie(this.r)}${Ie(this.g)}${Ie(this.b)}${Ie((isNaN(this.opacity)?1:this.opacity)*255)}`}function Hi(){const e=wn(this.opacity);return`${e===1?"rgb(":"rgba("}${Oe(this.r)}, ${Oe(this.g)}, ${Oe(this.b)}${e===1?")":`, ${e})`}`}function wn(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Oe(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ie(e){return e=Oe(e),(e<16?"0":"")+e.toString(16)}function Ri(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new te(e,t,n,r)}function ho(e){if(e instanceof te)return new te(e.h,e.s,e.l,e.opacity);if(e instanceof zt||(e=Rt(e)),!e)return new te;if(e instanceof te)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),f=Math.max(t,n,r),u=NaN,s=f-i,p=(f+i)/2;return s?(t===f?u=(n-r)/s+(n<r)*6:n===f?u=(r-t)/s+2:u=(t-n)/s+4,s/=p<.5?f+i:2-f-i,u*=60):s=p>0&&p<1?0:u,new te(u,s,p,e.opacity)}function ol(e,t,n,r){return arguments.length===1?ho(e):new te(e,t,n,r==null?1:r)}function te(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Ea(te,ol,co(zt,{brighter(e){return e=e==null?yn:Math.pow(yn,e),new te(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Lt:Math.pow(Lt,e),new te(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new q(da(e>=240?e-240:e+120,i,r),da(e,i,r),da(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new te(zi(this.h),xn(this.s),xn(this.l),wn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=wn(this.opacity);return`${e===1?"hsl(":"hsla("}${zi(this.h)}, ${xn(this.s)*100}%, ${xn(this.l)*100}%${e===1?")":`, ${e})`}`}}));function zi(e){return e=(e||0)%360,e<0?e+360:e}function xn(e){return Math.max(0,Math.min(1,e||0))}function da(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Ma=e=>()=>e;function ll(e,t){return function(n){return e+n*t}}function sl(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function fl(e){return(e=+e)==1?mo:function(t,n){return n-t?sl(t,n,e):Ma(isNaN(t)?n:t)}}function mo(e,t){var n=t-e;return n?ll(e,n):Ma(isNaN(e)?t:e)}const Ai=function e(t){var n=fl(t);function r(i,f){var u=n((i=ba(i)).r,(f=ba(f)).r),s=n(i.g,f.g),p=n(i.b,f.b),x=mo(i.opacity,f.opacity);return function(_){return i.r=u(_),i.g=s(_),i.b=p(_),i.opacity=x(_),i+""}}return r.gamma=e,r}(1);function ul(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(f){for(i=0;i<n;++i)r[i]=e[i]*(1-f)+t[i]*f;return r}}function cl(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function hl(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),f=new Array(n),u;for(u=0;u<r;++u)i[u]=ka(e[u],t[u]);for(;u<n;++u)f[u]=t[u];return function(s){for(u=0;u<r;++u)f[u]=i[u](s);return f}}function dl(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function _n(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function ml(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=ka(e[i],t[i]):r[i]=t[i];return function(f){for(i in n)r[i]=n[i](f);return r}}var ya=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ma=new RegExp(ya.source,"g");function pl(e){return function(){return e}}function gl(e){return function(t){return e(t)+""}}function xl(e,t){var n=ya.lastIndex=ma.lastIndex=0,r,i,f,u=-1,s=[],p=[];for(e=e+"",t=t+"";(r=ya.exec(e))&&(i=ma.exec(t));)(f=i.index)>n&&(f=t.slice(n,f),s[u]?s[u]+=f:s[++u]=f),(r=r[0])===(i=i[0])?s[u]?s[u]+=i:s[++u]=i:(s[++u]=null,p.push({i:u,x:_n(r,i)})),n=ma.lastIndex;return n<t.length&&(f=t.slice(n),s[u]?s[u]+=f:s[++u]=f),s.length<2?p[0]?gl(p[0].x):pl(t):(t=p.length,function(x){for(var _=0,v;_<t;++_)s[(v=p[_]).i]=v.x(x);return s.join("")})}function ka(e,t){var n=typeof t,r;return t==null||n==="boolean"?Ma(t):(n==="number"?_n:n==="string"?(r=Rt(t))?(t=r,Ai):xl:t instanceof Rt?Ai:t instanceof Date?dl:cl(t)?ul:Array.isArray(t)?hl:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?ml:_n)(e,t)}function vl(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function bl(e){return function(){return e}}function yl(e){return+e}var Bi=[0,1];function We(e){return e}function wa(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:bl(isNaN(t)?NaN:.5)}function wl(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function _l(e,t,n){var r=e[0],i=e[1],f=t[0],u=t[1];return i<r?(r=wa(i,r),f=n(u,f)):(r=wa(r,i),f=n(f,u)),function(s){return f(r(s))}}function El(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),f=new Array(r),u=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++u<r;)i[u]=wa(e[u],e[u+1]),f[u]=n(t[u],t[u+1]);return function(s){var p=Bo(e,s,1,r)-1;return f[p](i[p](s))}}function Ml(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function kl(){var e=Bi,t=Bi,n=ka,r,i,f,u=We,s,p,x;function _(){var d=Math.min(e.length,t.length);return u!==We&&(u=wl(e[0],e[d-1])),s=d>2?El:_l,p=x=null,v}function v(d){return d==null||isNaN(d=+d)?f:(p||(p=s(e.map(r),t,n)))(r(u(d)))}return v.invert=function(d){return u(i((x||(x=s(t,e.map(r),_n)))(d)))},v.domain=function(d){return arguments.length?(e=Array.from(d,yl),_()):e.slice()},v.range=function(d){return arguments.length?(t=Array.from(d),_()):t.slice()},v.rangeRound=function(d){return t=Array.from(d),n=vl,_()},v.clamp=function(d){return arguments.length?(u=d?!0:We,_()):u!==We},v.interpolate=function(d){return arguments.length?(n=d,_()):n},v.unknown=function(d){return arguments.length?(f=d,v):f},function(d,M){return r=d,i=M,_()}}function Sl(){return kl()(We,We)}function Nl(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function En(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Ue(e){return e=En(Math.abs(e)),e?e[1]:NaN}function Dl(e,t){return function(n,r){for(var i=n.length,f=[],u=0,s=e[0],p=0;i>0&&s>0&&(p+s+1>r&&(s=Math.max(1,r-p)),f.push(n.substring(i-=s,i+s)),!((p+=s+1)>r));)s=e[u=(u+1)%e.length];return f.reverse().join(t)}}function $l(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Gl=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Mn(e){if(!(t=Gl.exec(e)))throw new Error("invalid format: "+e);var t;return new Sa({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Mn.prototype=Sa.prototype;function Sa(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Sa.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Il(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var po;function Ol(e,t){var n=En(e,t);if(!n)return e+"";var r=n[0],i=n[1],f=i-(po=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,u=r.length;return f===u?r:f>u?r+new Array(f-u+1).join("0"):f>0?r.slice(0,f)+"."+r.slice(f):"0."+new Array(1-f).join("0")+En(e,Math.max(0,t+f-1))[0]}function ji(e,t){var n=En(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const qi={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Nl,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>ji(e*100,t),r:ji,s:Ol,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Fi(e){return e}var Wi=Array.prototype.map,Xi=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function Tl(e){var t=e.grouping===void 0||e.thousands===void 0?Fi:Dl(Wi.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",f=e.numerals===void 0?Fi:$l(Wi.call(e.numerals,String)),u=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"\u2212":e.minus+"",p=e.nan===void 0?"NaN":e.nan+"";function x(v){v=Mn(v);var d=v.fill,M=v.align,m=v.sign,G=v.symbol,P=v.zero,V=v.width,F=v.comma,I=v.precision,ne=v.trim,C=v.type;C==="n"?(F=!0,C="g"):qi[C]||(I===void 0&&(I=12),ne=!0,C="g"),(P||d==="0"&&M==="=")&&(P=!0,d="0",M="=");var z=G==="$"?n:G==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():"",X=G==="$"?r:/[%p]/.test(C)?u:"",ee=qi[C],N=/[defgprs%]/.test(C);I=I===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,I)):Math.max(0,Math.min(20,I));function O(S){var L=z,T=X,re,Ee,U;if(C==="c")T=ee(S)+T,S="";else{S=+S;var me=S<0||1/S<0;if(S=isNaN(S)?p:ee(Math.abs(S),I),ne&&(S=Il(S)),me&&+S==0&&m!=="+"&&(me=!1),L=(me?m==="("?m:s:m==="-"||m==="("?"":m)+L,T=(C==="s"?Xi[8+po/3]:"")+T+(me&&m==="("?")":""),N){for(re=-1,Ee=S.length;++re<Ee;)if(U=S.charCodeAt(re),48>U||U>57){T=(U===46?i+S.slice(re+1):S.slice(re))+T,S=S.slice(0,re);break}}}F&&!P&&(S=t(S,1/0));var ae=L.length+S.length+T.length,W=ae<V?new Array(V-ae+1).join(d):"";switch(F&&P&&(S=t(W+S,W.length?V-T.length:1/0),W=""),M){case"<":S=L+S+T+W;break;case"=":S=L+W+S+T;break;case"^":S=W.slice(0,ae=W.length>>1)+L+S+T+W.slice(ae);break;default:S=W+L+S+T;break}return f(S)}return O.toString=function(){return v+""},O}function _(v,d){var M=x((v=Mn(v),v.type="f",v)),m=Math.max(-8,Math.min(8,Math.floor(Ue(d)/3)))*3,G=Math.pow(10,-m),P=Xi[8+m/3];return function(V){return M(G*V)+P}}return{format:x,formatPrefix:_}}var vn,go,xo;Vl({thousands:",",grouping:[3],currency:["$",""]});function Vl(e){return vn=Tl(e),go=vn.format,xo=vn.formatPrefix,vn}function Cl(e){return Math.max(0,-Ue(Math.abs(e)))}function Pl(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ue(t)/3)))*3-Ue(Math.abs(e)))}function Ll(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Ue(t)-Ue(e))+1}function Hl(e,t,n,r){var i=Xo(e,t,n),f;switch(r=Mn(r==null?",f":r),r.type){case"s":{var u=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(f=Pl(i,u))&&(r.precision=f),xo(r,u)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(f=Ll(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=f-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(f=Cl(i))&&(r.precision=f-(r.type==="%")*2);break}}return go(r)}function Rl(e){var t=e.domain;return e.ticks=function(n){var r=t();return Wo(r[0],r[r.length-1],n==null?10:n)},e.tickFormat=function(n,r){var i=t();return Hl(i[0],i[i.length-1],n==null?10:n,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,f=r.length-1,u=r[i],s=r[f],p,x,_=10;for(s<u&&(x=u,u=s,s=x,x=i,i=f,f=x);_-- >0;){if(x=so(u,s,n),x===p)return r[i]=u,r[f]=s,t(r);if(x>0)u=Math.floor(u/x)*x,s=Math.ceil(s/x)*x;else if(x<0)u=Math.ceil(u*x)/x,s=Math.floor(s*x)/x;else break;p=x}return e},e}function vo(){var e=Sl();return e.copy=function(){return Ml(e,vo())},_a.apply(e,arguments),Rl(e)}function Ui(e,t,n){const r=e.slice();return r[12]=t[n],r[14]=n,r}function Yi(e,t,n){const r=e.slice();return r[12]=t[n],r[14]=n,r}function Ki(e,t,n){const r=e.slice();return r[16]=t[n],r}function zl(e){return{c:R,l:R,m:R,p:R,i:R,o:R,d:R}}function Al(e){let t,n,r,i,f,u=e[3].ticks(),s=[];for(let d=0;d<u.length;d+=1)s[d]=Qi(Ki(e,u,d));let p=e[11],x=[];for(let d=0;d<p.length;d+=1)x[d]=Zi(Yi(e,p,d));let _=e[11],v=[];for(let d=0;d<_.length;d+=1)v[d]=eo(Ui(e,_,d));return{c(){t=Z("svg");for(let d=0;d<s.length;d+=1)s[d].c();n=we();for(let d=0;d<x.length;d+=1)x[d].c();r=we();for(let d=0;d<v.length;d+=1)v[d].c();this.h()},l(d){t=J(d,"svg",{viewBox:!0});var M=g(t);for(let m=0;m<s.length;m+=1)s[m].l(M);n=we();for(let m=0;m<x.length;m+=1)x[m].l(M);r=we();for(let m=0;m<v.length;m+=1)v[m].l(M);M.forEach(l),this.h()},h(){k(t,"viewBox",0-_e+" "+(0-_e)+" "+(Q+2*_e)+" "+(Na+2*_e))},m(d,M){w(d,t,M);for(let m=0;m<s.length;m+=1)s[m].m(t,null);o(t,n);for(let m=0;m<x.length;m+=1)x[m].m(t,null);o(t,r);for(let m=0;m<v.length;m+=1)v[m].m(t,null);e[8](t),i||(f=pa(t,"mousemove",e[9]),i=!0)},p(d,M){if(M&8){u=d[3].ticks();let m;for(m=0;m<u.length;m+=1){const G=Ki(d,u,m);s[m]?(s[m].p(G,M),ye(s[m],1)):(s[m]=Qi(G),s[m].c(),ye(s[m],1),s[m].m(t,n))}for(;m<s.length;m+=1)s[m].d(1);s.length=u.length}if(M&57){p=d[11];let m;for(m=0;m<p.length;m+=1){const G=Yi(d,p,m);x[m]?(x[m].p(G,M),ye(x[m],1)):(x[m]=Zi(G),x[m].c(),ye(x[m],1),x[m].m(t,r))}for(;m<x.length;m+=1)x[m].d(1);x.length=p.length}if(M&37){_=d[11];let m;for(m=0;m<_.length;m+=1){const G=Ui(d,_,m);v[m]?v[m].p(G,M):(v[m]=eo(G),v[m].c(),v[m].m(t,null))}for(;m<v.length;m+=1)v[m].d(1);v.length=_.length}},i(d){for(let M=0;M<u.length;M+=1)ye(s[M]);for(let M=0;M<p.length;M+=1)ye(x[M])},o:R,d(d){d&&l(t),ha(s,d),ha(x,d),ha(v,d),e[8](null),i=!1,f()}}}function Qi(e){let t,n,r,i=e[16]+"",f,u;return{c(){t=Z("g"),n=Z("line"),r=Z("text"),f=c(i),this.h()},l(s){t=J(s,"g",{});var p=g(t);n=J(p,"line",{x2:!0,y1:!0,y2:!0,stroke:!0}),g(n).forEach(l),r=J(p,"text",{"text-anchor":!0,"dominant-baseline":!0,dx:!0,y:!0});var x=g(r);f=h(x,i),x.forEach(l),p.forEach(l),this.h()},h(){k(n,"x2",Q),k(n,"y1",e[3](e[16])),k(n,"y2",e[3](e[16])),k(n,"stroke","grey"),k(r,"text-anchor","end"),k(r,"dominant-baseline","middle"),k(r,"dx","-10"),k(r,"y",e[3](e[16]))},m(s,p){w(s,t,p),o(t,n),o(t,r),o(r,f)},p:R,i(s){u||io(()=>{u=oo(t,Vo,{x:-200,duration:1e3}),u.start()})},o:R,d(s){s&&l(t)}}}function Zi(e){let t,n,r,i;function f(){return e[6](e[14])}function u(){return e[7](e[14])}return{c(){t=Z("rect"),this.h()},l(s){t=J(s,"rect",{y:!0,x:!0,width:!0,height:!0,fill:!0}),g(t).forEach(l),this.h()},h(){k(t,"y",e[3](Math.max(0,e[12].amount))),k(t,"x",e[4](e[12].year_of_balance)),k(t,"width",e[4].bandwidth()),k(t,"height",Math.abs(e[3](e[12].amount)-e[3](0))),k(t,"fill",e[12].amount<0?"brown":"steelblue")},m(s,p){w(s,t,p),r||(i=[pa(t,"mouseenter",f),pa(t,"mouseleave",u)],r=!0)},p(s,p){e=s},i(s){n||io(()=>{n=oo(t,Co,{delay:e[14]*80}),n.start()})},o:R,d(s){s&&l(t),r=!1,Do(i)}}}function Ji(e){let t,n,r=e[12].year_of_balance+"",i,f,u,s,p,x=e[12].amount+"",_,v,d,M,m,G=e[12].actual_revised_estimated+"",P,V,F,I,ne,C=e[12].item+"",z,X,ee;return{c(){t=Z("text"),n=c("Year: "),i=c(r),s=Z("text"),p=c("Balance: "),_=c(x),M=Z("text"),m=c("Type: "),P=c(G),I=Z("text"),ne=c("Item: "),z=c(C),this.h()},l(N){t=J(N,"text",{x:!0,y:!0,"dominant-baseline":!0});var O=g(t);n=h(O,"Year: "),i=h(O,r),O.forEach(l),s=J(N,"text",{x:!0,y:!0,"dominant-baseline":!0});var S=g(s);p=h(S,"Balance: "),_=h(S,x),S.forEach(l),M=J(N,"text",{x:!0,y:!0,"dominant-baseline":!0});var L=g(M);m=h(L,"Type: "),P=h(L,G),L.forEach(l),I=J(N,"text",{x:!0,y:!0,"dominant-baseline":!0});var T=g(I);ne=h(T,"Item: "),z=h(T,C),T.forEach(l),this.h()},h(){k(t,"x",f=Math.min(e[2].x,Q-120)),k(t,"y",u=e[12].amount>0?e[2].y-10:e[2].y+20),k(t,"dominant-baseline",e[12].amount>0?"baseline":"hanging"),k(s,"x",v=Math.min(e[2].x,Q-120)),k(s,"y",d=e[12].amount>0?e[2].y-24:e[2].y+34),k(s,"dominant-baseline",e[12].amount>0?"baseline":"hanging"),k(M,"x",V=Math.min(e[2].x,Q-120)),k(M,"y",F=e[12].amount>0?e[2].y-38:e[2].y+48),k(M,"dominant-baseline",e[12].amount>0?"baseline":"hanging"),k(I,"x",X=Math.min(e[2].x,Q-120)),k(I,"y",ee=e[12].amount>0?e[2].y-52:e[2].y+62),k(I,"dominant-baseline",e[12].amount>0?"baseline":"hanging")},m(N,O){w(N,t,O),o(t,n),o(t,i),w(N,s,O),o(s,p),o(s,_),w(N,M,O),o(M,m),o(M,P),w(N,I,O),o(I,ne),o(I,z)},p(N,O){O&4&&f!==(f=Math.min(N[2].x,Q-120))&&k(t,"x",f),O&4&&u!==(u=N[12].amount>0?N[2].y-10:N[2].y+20)&&k(t,"y",u),O&4&&v!==(v=Math.min(N[2].x,Q-120))&&k(s,"x",v),O&4&&d!==(d=N[12].amount>0?N[2].y-24:N[2].y+34)&&k(s,"y",d),O&4&&V!==(V=Math.min(N[2].x,Q-120))&&k(M,"x",V),O&4&&F!==(F=N[12].amount>0?N[2].y-38:N[2].y+48)&&k(M,"y",F),O&4&&X!==(X=Math.min(N[2].x,Q-120))&&k(I,"x",X),O&4&&ee!==(ee=N[12].amount>0?N[2].y-52:N[2].y+62)&&k(I,"y",ee)},d(N){N&&l(t),N&&l(s),N&&l(M),N&&l(I)}}}function eo(e){let t,n=e[0][e[14]]&&Ji(e);return{c(){n&&n.c(),t=we()},l(r){n&&n.l(r),t=we()},m(r,i){n&&n.m(r,i),w(r,t,i)},p(r,i){r[0][r[14]]?n?n.p(r,i):(n=Ji(r),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(r){n&&n.d(r),r&&l(t)}}}function Bl(e){let t,n,r;return{c(){t=Z("svg"),n=Z("path"),r=Z("animateTransform"),this.h()},l(i){t=J(i,"svg",{viewBox:!0});var f=g(t);n=J(f,"path",{fill:!0,d:!0});var u=g(n);r=J(u,"animateTransform",{attributeName:!0,attributeType:!0,type:!0,dur:!0,from:!0,to:!0,repeatCount:!0}),g(r).forEach(l),u.forEach(l),f.forEach(l),this.h()},h(){k(r,"attributeName","transform"),k(r,"attributeType","XML"),k(r,"type","rotate"),k(r,"dur","1s"),k(r,"from","0 50 50"),k(r,"to","360 50 50"),k(r,"repeatCount","indefinite"),k(n,"fill","black"),k(n,"d","M73,50c0-12.7-10.3-23-23-23S27,37.3,27,50 M30.9,50c0-10.5,8.5-19.1,19.1-19.1S69.1,39.5,69.1,50"),k(t,"viewBox",0-_e+" "+(0-_e)+" "+(Q+2*_e)+" "+(Na+2*_e))},m(i,f){w(i,t,f),o(t,n),o(n,r)},p:R,i:R,o:R,d(i){i&&l(t)}}}function jl(e){let t,n={ctx:e,current:null,token:null,hasCatch:!1,pending:Bl,then:Al,catch:zl,value:11};return ko(e[5],n),{c(){t=we(),n.block.c()},l(r){t=we(),n.block.l(r)},m(r,i){w(r,t,i),n.block.m(r,n.anchor=i),n.mount=()=>t.parentNode,n.anchor=t},p(r,[i]){e=r,So(n,e,i)},i(r){ye(n.block)},o:R,d(r){r&&l(t),n.block.d(r),n.token=null,n=null}}}let _e=100,Na=600,Q=800;async function ql(e){return(await e).filter(n=>n.item=="Overall Balance")}function Fl(e,t,n){let r=new DOMPoint;return r.x=t,r.y=n,r.matrixTransform(e.getScreenCTM().inverse())}function Wl(e,t,n){let r=vo(),i=uo(),f=null,u=Po(),s=ql(u).then(m=>{let G=m.map(V=>V.amount),P=m.map(V=>V.year_of_balance);return r.domain([Math.min(...G),Math.max(...G)]).range([Na,0]),i.domain(P).range([0,Q]).paddingInner(.1),n(0,f=G.map(()=>!1)),m}),p,x;const _=m=>{n(0,f[m]=!0,f)},v=m=>{n(0,f[m]=!1,f)};function d(m){No[m?"unshift":"push"](()=>{p=m,n(1,p)})}return[f,p,x,r,i,s,_,v,d,m=>{p&&n(2,x=Fl(p,m.clientX,m.clientY))}]}class Xl extends no{constructor(t){super(),ro(this,t,Wl,jl,ao,{})}}function Ul(e){let t,n,r,i,f,u,s,p,x,_,v,d,M,m,G,P,V,F,I,ne,C,z,X,ee,N,O,S,L,T,re,Ee,U,me,ae,W,At,Te,kn,Bt,Me,Sn,Ye,Nn,jt,Ve,Dn,qt,ie,$n,Ke,Gn,In,Qe,On,Tn,Ft,pe,Vn,Ze,Cn,Pn,Wt,ge,Ln,Je,Hn,Rn,Xt,Ce,zn,Ut,Pe,An,Yt,oe,Bn,et,jn,qn,tt,Fn,Wn,Kt,ke,bo=`<code class="language-undefined">const interpolateFunction = scaleLinear() // returns a interpolating function
    .domain([0, 10]) // provide the min and max of our data
    .range([0, 200]) // provide the min and max of our SVG coords

interpolateFunction(0) // returns 0
interpolateFunction(5) // returns 100
interpolateFunction(10) // returns 200</code>`,Qt,Le,Xn,Zt,A,Un,nt,Yn,Kn,rt,Qn,Zn,at,Jn,er,it,tr,nr,Jt,Se,yo=`<code class="language-undefined">const reverseInterpolate = scaleLinear()
    .domain([0, 10])
    .range([200, 0]) // Note: elements in array has been swapped!

reverseInterpolate(0) // returns 200
reverseInterpolate(5) // returns 100
reverseInterpolate(10) // returns 0</code>`,en,B,rr,ot,ar,ir,lt,or,lr,st,sr,fr,ft,ur,cr,tn,He,hr,nn,j,dr,ut,mr,pr,ct,gr,xr,ht,vr,br,dt,yr,wr,rn,Ne,wo=`<code class="language-undefined">const categoricalInterpolate = scaleBand()
    .domain([&#39;a&#39;, &#39;b&#39;, &#39;c&#39;]) // provide array of your categories
    .range([0, 200]) // provide min and max of your SVG coords
    // optionally set the gaps between bars
    // as a proportion of width of bar, 0 to 1
    reverseInterpolate(yData) - reverseInterpolate(0)
    // optionally set the gaps to the left and right of the first and last bar
    // as a proportion of width of bar, 0 to 1
    .paddingOuter(0.5)

categoricalInterpolate(&#39;a&#39;) // returns position of left side of the &#39;a&#39; bar
categoricalInterpolate.step() // returns the length between start of 2 consecutive bars
categoricalInterpoalte.bandwidth() // returns the width of the bar</code>`,an,Re,_r,on,H,Er,mt,Mr,kr,pt,Sr,Nr,gt,Dr,$r,xt,Gr,Ir,vt,Or,Tr,ln,le,Vr,bt,Cr,Pr,yt,Lr,Hr,sn,Y,De,wt,Rr,zr,_t,Ar,Br,$e,Et,jr,qr,Mt,Fr,Wr,xe,kt,Xr,Ur,St,Yr,Nt,he,Kr,Dt,Qr,Zr,$t,Jr,ea,ta,ve,Gt,na,ra,It,aa,Ot,de,ia,Tt,oa,la,Vt,sa,fa,fn,Ge,un;return Ge=new Xl({}),{c(){t=b("h1"),n=c(to),r=D(),i=b("h2"),f=c("SVG fundamentals"),u=D(),s=b("p"),p=c("SVG provides elements that describe shapes / curves, similar to how HTML provides elements that describe headers, paragraphs."),x=D(),_=b("p"),v=c("SVG document starts with "),d=b("code"),M=c("<svg>"),m=c(" root element, and within it you can put various shape elements, and group those together using "),G=b("code"),P=c("<g>"),V=c(" element."),F=D(),I=b("p"),ne=c("SVG is actually an XML language, and therefore:"),C=D(),z=b("ul"),X=b("li"),ee=c("elements and attributes are case sensitive"),N=D(),O=b("li"),S=c("attribute values must be inside quotes even if they are numbers."),L=D(),T=b("h3"),re=c("SVG coordinate system"),Ee=D(),U=b("p"),me=c("The origin(0,0) starts at the "),ae=b("strong"),W=c("top left"),At=D(),Te=b("p"),kn=c("The horizontal axis runs from left to right"),Bt=D(),Me=b("p"),Sn=c("The vertical axis runs from "),Ye=b("strong"),Nn=c("top to bottom"),jt=D(),Ve=b("h3"),Dn=c("SVG viewbox"),qt=D(),ie=b("p"),$n=c(`The unit of measurement in the SVG coordinates is by default 1unit = 1px of the device\u2019s screen.
However, since SVG is scalable, we can change the `),Ke=b("em"),Gn=c("viewbox"),In=c(" attribute of "),Qe=b("code"),On=c("<svg>"),Tn=c(" to (automatically) map SVG\u2019s 1 unit to however big the screen size is."),Ft=D(),pe=b("p"),Vn=c("For example, defining a SVG canvas: "),Ze=b("code"),Cn=c('<svg viewBox="0 0 200 200">'),Pn=c(". This translates to setting canvas top left corner to (0,0) and the canvas width and height to be 200. Say the canvas is displayed in a 1000px by 1000px screen, then 1 unit in SVG = 5 px on screen."),Wt=D(),ge=b("p"),Ln=c("This is useful because you can fix the coordinates of the viewBox, allowing the SVG element sizes to be "),Je=b("em"),Hn=c("relative"),Rn=c(" to the viewBox you defined, letting it scale to any screen size."),Xt=D(),Ce=b("h3"),zn=c("mapping data values to SVG unit values"),Ut=D(),Pe=b("p"),An=c(`Now we need a way to map the values in our data to the SVG\u2019s coordinate system.
For example, say our data consists of numbers from 0 to 10, and our SVG\u2019s coordinate system is defined as 0 to 200 pixels. We will need to map the 0 in our data to 0 pixel in SVG, and 5 in our data to 100 pixel in SVG, etc.`),Yt=D(),oe=b("p"),Bn=c("To do this, "),et=b("code"),jn=c("d3-scale"),qn=c(" library has a lot of helper functions that can help us generate this mapping function. Specifically, "),tt=b("code"),Fn=c("scaleLinear"),Wn=c(" helps returns a linearly interpolating function that maps values between our data and the SVG coordinate."),Kt=D(),ke=b("pre"),Qt=D(),Le=b("h3"),Xn=c("vertical axis: inverted"),Zt=D(),A=b("p"),Un=c(`Above works fine for horizontal axis, but vertical axis is inverted in SVG.
In other words, the `),nt=b("strong"),Yn=c("larger"),Kn=c(" the y value, the "),rt=b("strong"),Qn=c("lower"),Zn=c(` the point will be shown inside the SVG.
This is not how normal charts work.
Luckily there is an easy trick to solve this using `),at=b("code"),Jn=c("scaleLinear()"),er=c(": reverse arguments in "),it=b("code"),tr=c(".range()"),nr=c(" method!"),Jt=D(),Se=b("pre"),en=D(),B=b("p"),rr=c("By just swapping the elements in the "),ot=b("code"),ar=c(".range()"),ir=c(" method, the returned "),lt=b("code"),or=c("reverseInerpolate"),lr=c(" function now maps "),st=b("strong"),sr=c("larger"),fr=c(" y value to a "),ft=b("strong"),ur=c("higher"),cr=c(" point inside the SVG."),tn=D(),He=b("h3"),hr=c("horizontal axis: cateogories"),nn=D(),j=b("p"),dr=c("Horizontal axis for bar charts are usually categorical variables. This means using "),ut=b("code"),mr=c("scaleLinear()"),pr=c(` does not make sense.
`),ct=b("code"),gr=c("d3-scale"),xr=c(" provides another helper function, "),ht=b("code"),vr=c("scaleBand()"),br=c(` that will help us interpolate the horizontal positions of the bars.
The returned function will give us the horizontal position of the `),dt=b("em"),yr=c("left"),wr=c(" side of the bar (i.e. the start of the bar)"),rn=D(),Ne=b("pre"),an=D(),Re=b("h3"),_r=c("drawing bars"),on=D(),H=b("p"),Er=c("We can draw bars with "),mt=b("code"),Mr=c("<rect>"),kr=c(` svg element.
This element requires us to specify the rectangle\u2019s top left position `),pt=b("code"),Sr=c("x"),Nr=c(" and "),gt=b("code"),Dr=c("y"),$r=c(", the "),xt=b("code"),Gr=c("height"),Ir=c(" (how far down), and the "),vt=b("code"),Or=c("width"),Tr=c(" (how far right)."),ln=D(),le=b("p"),Vr=c("We can determine the 4 properties for each data point "),bt=b("code"),Cr=c("(xData, yData)"),Pr=c(" with the two "),yt=b("code"),Lr=c("d3-scale"),Hr=c(" interpolating functions we have created:"),sn=D(),Y=b("ul"),De=b("li"),wt=b("code"),Rr=c("x"),zr=c(" = "),_t=b("code"),Ar=c("categoricalInterpolate(xData)"),Br=D(),$e=b("li"),Et=b("code"),jr=c("width"),qr=c(" = "),Mt=b("code"),Fr=c("categoricalInterpolate.bandwidth()"),Wr=D(),xe=b("li"),kt=b("code"),Xr=c("y"),Ur=c(" = "),St=b("code"),Yr=c("reverseInterpolate(yData)"),Nt=b("ul"),he=b("li"),Kr=c("to handle negative "),Dt=b("code"),Qr=c("yData"),Zr=c(", use "),$t=b("code"),Jr=c("reverseInterpolate(Math.max(0, yData))"),ea=c(" to get the yData position if its positive, or the x-axis position if yData is negative"),ta=D(),ve=b("li"),Gt=b("code"),na=c("height"),ra=c(" = "),It=b("code"),aa=c("reverseInterpolate(yData) - reverseInterpolate(0)"),Ot=b("ul"),de=b("li"),ia=c("to handle negative "),Tt=b("code"),oa=c("yData"),la=c(", use "),Vt=b("code"),sa=c("Math.abs(reverseInterpolate(yData) - reverseInterpolate(0))"),fa=c(" to get distance between tip of bar and x-axis"),fn=D(),$o(Ge.$$.fragment),this.h()},l(a){t=y(a,"H1",{});var E=g(t);n=h(E,to),E.forEach(l),r=$(a),i=y(a,"H2",{});var Da=g(i);f=h(Da,"SVG fundamentals"),Da.forEach(l),u=$(a),s=y(a,"P",{});var $a=g(s);p=h($a,"SVG provides elements that describe shapes / curves, similar to how HTML provides elements that describe headers, paragraphs."),$a.forEach(l),x=$(a),_=y(a,"P",{});var ze=g(_);v=h(ze,"SVG document starts with "),d=y(ze,"CODE",{});var Ga=g(d);M=h(Ga,"<svg>"),Ga.forEach(l),m=h(ze," root element, and within it you can put various shape elements, and group those together using "),G=y(ze,"CODE",{});var Ia=g(G);P=h(Ia,"<g>"),Ia.forEach(l),V=h(ze," element."),ze.forEach(l),F=$(a),I=y(a,"P",{});var Oa=g(I);ne=h(Oa,"SVG is actually an XML language, and therefore:"),Oa.forEach(l),C=$(a),z=y(a,"UL",{});var cn=g(z);X=y(cn,"LI",{});var Ta=g(X);ee=h(Ta,"elements and attributes are case sensitive"),Ta.forEach(l),N=$(cn),O=y(cn,"LI",{});var Va=g(O);S=h(Va,"attribute values must be inside quotes even if they are numbers."),Va.forEach(l),cn.forEach(l),L=$(a),T=y(a,"H3",{});var Ca=g(T);re=h(Ca,"SVG coordinate system"),Ca.forEach(l),Ee=$(a),U=y(a,"P",{});var ua=g(U);me=h(ua,"The origin(0,0) starts at the "),ae=y(ua,"STRONG",{});var Pa=g(ae);W=h(Pa,"top left"),Pa.forEach(l),ua.forEach(l),At=$(a),Te=y(a,"P",{});var La=g(Te);kn=h(La,"The horizontal axis runs from left to right"),La.forEach(l),Bt=$(a),Me=y(a,"P",{});var ca=g(Me);Sn=h(ca,"The vertical axis runs from "),Ye=y(ca,"STRONG",{});var Ha=g(Ye);Nn=h(Ha,"top to bottom"),Ha.forEach(l),ca.forEach(l),jt=$(a),Ve=y(a,"H3",{});var Ra=g(Ve);Dn=h(Ra,"SVG viewbox"),Ra.forEach(l),qt=$(a),ie=y(a,"P",{});var Ae=g(ie);$n=h(Ae,`The unit of measurement in the SVG coordinates is by default 1unit = 1px of the device\u2019s screen.
However, since SVG is scalable, we can change the `),Ke=y(Ae,"EM",{});var za=g(Ke);Gn=h(za,"viewbox"),za.forEach(l),In=h(Ae," attribute of "),Qe=y(Ae,"CODE",{});var Aa=g(Qe);On=h(Aa,"<svg>"),Aa.forEach(l),Tn=h(Ae," to (automatically) map SVG\u2019s 1 unit to however big the screen size is."),Ae.forEach(l),Ft=$(a),pe=y(a,"P",{});var hn=g(pe);Vn=h(hn,"For example, defining a SVG canvas: "),Ze=y(hn,"CODE",{});var Ba=g(Ze);Cn=h(Ba,'<svg viewBox="0 0 200 200">'),Ba.forEach(l),Pn=h(hn,". This translates to setting canvas top left corner to (0,0) and the canvas width and height to be 200. Say the canvas is displayed in a 1000px by 1000px screen, then 1 unit in SVG = 5 px on screen."),hn.forEach(l),Wt=$(a),ge=y(a,"P",{});var dn=g(ge);Ln=h(dn,"This is useful because you can fix the coordinates of the viewBox, allowing the SVG element sizes to be "),Je=y(dn,"EM",{});var ja=g(Je);Hn=h(ja,"relative"),ja.forEach(l),Rn=h(dn," to the viewBox you defined, letting it scale to any screen size."),dn.forEach(l),Xt=$(a),Ce=y(a,"H3",{});var qa=g(Ce);zn=h(qa,"mapping data values to SVG unit values"),qa.forEach(l),Ut=$(a),Pe=y(a,"P",{});var Fa=g(Pe);An=h(Fa,`Now we need a way to map the values in our data to the SVG\u2019s coordinate system.
For example, say our data consists of numbers from 0 to 10, and our SVG\u2019s coordinate system is defined as 0 to 200 pixels. We will need to map the 0 in our data to 0 pixel in SVG, and 5 in our data to 100 pixel in SVG, etc.`),Fa.forEach(l),Yt=$(a),oe=y(a,"P",{});var Be=g(oe);Bn=h(Be,"To do this, "),et=y(Be,"CODE",{});var Wa=g(et);jn=h(Wa,"d3-scale"),Wa.forEach(l),qn=h(Be," library has a lot of helper functions that can help us generate this mapping function. Specifically, "),tt=y(Be,"CODE",{});var Xa=g(tt);Fn=h(Xa,"scaleLinear"),Xa.forEach(l),Wn=h(Be," helps returns a linearly interpolating function that maps values between our data and the SVG coordinate."),Be.forEach(l),Kt=$(a),ke=y(a,"PRE",{class:!0});var _o=g(ke);_o.forEach(l),Qt=$(a),Le=y(a,"H3",{});var Ua=g(Le);Xn=h(Ua,"vertical axis: inverted"),Ua.forEach(l),Zt=$(a),A=y(a,"P",{});var se=g(A);Un=h(se,`Above works fine for horizontal axis, but vertical axis is inverted in SVG.
In other words, the `),nt=y(se,"STRONG",{});var Ya=g(nt);Yn=h(Ya,"larger"),Ya.forEach(l),Kn=h(se," the y value, the "),rt=y(se,"STRONG",{});var Ka=g(rt);Qn=h(Ka,"lower"),Ka.forEach(l),Zn=h(se,` the point will be shown inside the SVG.
This is not how normal charts work.
Luckily there is an easy trick to solve this using `),at=y(se,"CODE",{});var Qa=g(at);Jn=h(Qa,"scaleLinear()"),Qa.forEach(l),er=h(se,": reverse arguments in "),it=y(se,"CODE",{});var Za=g(it);tr=h(Za,".range()"),Za.forEach(l),nr=h(se," method!"),se.forEach(l),Jt=$(a),Se=y(a,"PRE",{class:!0});var Eo=g(Se);Eo.forEach(l),en=$(a),B=y(a,"P",{});var fe=g(B);rr=h(fe,"By just swapping the elements in the "),ot=y(fe,"CODE",{});var Ja=g(ot);ar=h(Ja,".range()"),Ja.forEach(l),ir=h(fe," method, the returned "),lt=y(fe,"CODE",{});var ei=g(lt);or=h(ei,"reverseInerpolate"),ei.forEach(l),lr=h(fe," function now maps "),st=y(fe,"STRONG",{});var ti=g(st);sr=h(ti,"larger"),ti.forEach(l),fr=h(fe," y value to a "),ft=y(fe,"STRONG",{});var ni=g(ft);ur=h(ni,"higher"),ni.forEach(l),cr=h(fe," point inside the SVG."),fe.forEach(l),tn=$(a),He=y(a,"H3",{});var ri=g(He);hr=h(ri,"horizontal axis: cateogories"),ri.forEach(l),nn=$(a),j=y(a,"P",{});var ue=g(j);dr=h(ue,"Horizontal axis for bar charts are usually categorical variables. This means using "),ut=y(ue,"CODE",{});var ai=g(ut);mr=h(ai,"scaleLinear()"),ai.forEach(l),pr=h(ue,` does not make sense.
`),ct=y(ue,"CODE",{});var ii=g(ct);gr=h(ii,"d3-scale"),ii.forEach(l),xr=h(ue," provides another helper function, "),ht=y(ue,"CODE",{});var oi=g(ht);vr=h(oi,"scaleBand()"),oi.forEach(l),br=h(ue,` that will help us interpolate the horizontal positions of the bars.
The returned function will give us the horizontal position of the `),dt=y(ue,"EM",{});var li=g(dt);yr=h(li,"left"),li.forEach(l),wr=h(ue," side of the bar (i.e. the start of the bar)"),ue.forEach(l),rn=$(a),Ne=y(a,"PRE",{class:!0});var Mo=g(Ne);Mo.forEach(l),an=$(a),Re=y(a,"H3",{});var si=g(Re);_r=h(si,"drawing bars"),si.forEach(l),on=$(a),H=y(a,"P",{});var K=g(H);Er=h(K,"We can draw bars with "),mt=y(K,"CODE",{});var fi=g(mt);Mr=h(fi,"<rect>"),fi.forEach(l),kr=h(K,` svg element.
This element requires us to specify the rectangle\u2019s top left position `),pt=y(K,"CODE",{});var ui=g(pt);Sr=h(ui,"x"),ui.forEach(l),Nr=h(K," and "),gt=y(K,"CODE",{});var ci=g(gt);Dr=h(ci,"y"),ci.forEach(l),$r=h(K,", the "),xt=y(K,"CODE",{});var hi=g(xt);Gr=h(hi,"height"),hi.forEach(l),Ir=h(K," (how far down), and the "),vt=y(K,"CODE",{});var di=g(vt);Or=h(di,"width"),di.forEach(l),Tr=h(K," (how far right)."),K.forEach(l),ln=$(a),le=y(a,"P",{});var je=g(le);Vr=h(je,"We can determine the 4 properties for each data point "),bt=y(je,"CODE",{});var mi=g(bt);Cr=h(mi,"(xData, yData)"),mi.forEach(l),Pr=h(je," with the two "),yt=y(je,"CODE",{});var pi=g(yt);Lr=h(pi,"d3-scale"),pi.forEach(l),Hr=h(je," interpolating functions we have created:"),je.forEach(l),sn=$(a),Y=y(a,"UL",{});var be=g(Y);De=y(be,"LI",{});var mn=g(De);wt=y(mn,"CODE",{});var gi=g(wt);Rr=h(gi,"x"),gi.forEach(l),zr=h(mn," = "),_t=y(mn,"CODE",{});var xi=g(_t);Ar=h(xi,"categoricalInterpolate(xData)"),xi.forEach(l),mn.forEach(l),Br=$(be),$e=y(be,"LI",{});var pn=g($e);Et=y(pn,"CODE",{});var vi=g(Et);jr=h(vi,"width"),vi.forEach(l),qr=h(pn," = "),Mt=y(pn,"CODE",{});var bi=g(Mt);Fr=h(bi,"categoricalInterpolate.bandwidth()"),bi.forEach(l),pn.forEach(l),Wr=$(be),xe=y(be,"LI",{});var Ct=g(xe);kt=y(Ct,"CODE",{});var yi=g(kt);Xr=h(yi,"y"),yi.forEach(l),Ur=h(Ct," = "),St=y(Ct,"CODE",{});var wi=g(St);Yr=h(wi,"reverseInterpolate(yData)"),wi.forEach(l),Nt=y(Ct,"UL",{});var _i=g(Nt);he=y(_i,"LI",{});var qe=g(he);Kr=h(qe,"to handle negative "),Dt=y(qe,"CODE",{});var Ei=g(Dt);Qr=h(Ei,"yData"),Ei.forEach(l),Zr=h(qe,", use "),$t=y(qe,"CODE",{});var Mi=g($t);Jr=h(Mi,"reverseInterpolate(Math.max(0, yData))"),Mi.forEach(l),ea=h(qe," to get the yData position if its positive, or the x-axis position if yData is negative"),qe.forEach(l),_i.forEach(l),Ct.forEach(l),ta=$(be),ve=y(be,"LI",{});var Pt=g(ve);Gt=y(Pt,"CODE",{});var ki=g(Gt);na=h(ki,"height"),ki.forEach(l),ra=h(Pt," = "),It=y(Pt,"CODE",{});var Si=g(It);aa=h(Si,"reverseInterpolate(yData) - reverseInterpolate(0)"),Si.forEach(l),Ot=y(Pt,"UL",{});var Ni=g(Ot);de=y(Ni,"LI",{});var Fe=g(de);ia=h(Fe,"to handle negative "),Tt=y(Fe,"CODE",{});var Di=g(Tt);oa=h(Di,"yData"),Di.forEach(l),la=h(Fe,", use "),Vt=y(Fe,"CODE",{});var $i=g(Vt);sa=h($i,"Math.abs(reverseInterpolate(yData) - reverseInterpolate(0))"),$i.forEach(l),fa=h(Fe," to get distance between tip of bar and x-axis"),Fe.forEach(l),Ni.forEach(l),Pt.forEach(l),be.forEach(l),fn=$(a),Go(Ge.$$.fragment,a),this.h()},h(){k(ke,"class","language-undefined"),k(Se,"class","language-undefined"),k(Ne,"class","language-undefined")},m(a,E){w(a,t,E),o(t,n),w(a,r,E),w(a,i,E),o(i,f),w(a,u,E),w(a,s,E),o(s,p),w(a,x,E),w(a,_,E),o(_,v),o(_,d),o(d,M),o(_,m),o(_,G),o(G,P),o(_,V),w(a,F,E),w(a,I,E),o(I,ne),w(a,C,E),w(a,z,E),o(z,X),o(X,ee),o(z,N),o(z,O),o(O,S),w(a,L,E),w(a,T,E),o(T,re),w(a,Ee,E),w(a,U,E),o(U,me),o(U,ae),o(ae,W),w(a,At,E),w(a,Te,E),o(Te,kn),w(a,Bt,E),w(a,Me,E),o(Me,Sn),o(Me,Ye),o(Ye,Nn),w(a,jt,E),w(a,Ve,E),o(Ve,Dn),w(a,qt,E),w(a,ie,E),o(ie,$n),o(ie,Ke),o(Ke,Gn),o(ie,In),o(ie,Qe),o(Qe,On),o(ie,Tn),w(a,Ft,E),w(a,pe,E),o(pe,Vn),o(pe,Ze),o(Ze,Cn),o(pe,Pn),w(a,Wt,E),w(a,ge,E),o(ge,Ln),o(ge,Je),o(Je,Hn),o(ge,Rn),w(a,Xt,E),w(a,Ce,E),o(Ce,zn),w(a,Ut,E),w(a,Pe,E),o(Pe,An),w(a,Yt,E),w(a,oe,E),o(oe,Bn),o(oe,et),o(et,jn),o(oe,qn),o(oe,tt),o(tt,Fn),o(oe,Wn),w(a,Kt,E),w(a,ke,E),ke.innerHTML=bo,w(a,Qt,E),w(a,Le,E),o(Le,Xn),w(a,Zt,E),w(a,A,E),o(A,Un),o(A,nt),o(nt,Yn),o(A,Kn),o(A,rt),o(rt,Qn),o(A,Zn),o(A,at),o(at,Jn),o(A,er),o(A,it),o(it,tr),o(A,nr),w(a,Jt,E),w(a,Se,E),Se.innerHTML=yo,w(a,en,E),w(a,B,E),o(B,rr),o(B,ot),o(ot,ar),o(B,ir),o(B,lt),o(lt,or),o(B,lr),o(B,st),o(st,sr),o(B,fr),o(B,ft),o(ft,ur),o(B,cr),w(a,tn,E),w(a,He,E),o(He,hr),w(a,nn,E),w(a,j,E),o(j,dr),o(j,ut),o(ut,mr),o(j,pr),o(j,ct),o(ct,gr),o(j,xr),o(j,ht),o(ht,vr),o(j,br),o(j,dt),o(dt,yr),o(j,wr),w(a,rn,E),w(a,Ne,E),Ne.innerHTML=wo,w(a,an,E),w(a,Re,E),o(Re,_r),w(a,on,E),w(a,H,E),o(H,Er),o(H,mt),o(mt,Mr),o(H,kr),o(H,pt),o(pt,Sr),o(H,Nr),o(H,gt),o(gt,Dr),o(H,$r),o(H,xt),o(xt,Gr),o(H,Ir),o(H,vt),o(vt,Or),o(H,Tr),w(a,ln,E),w(a,le,E),o(le,Vr),o(le,bt),o(bt,Cr),o(le,Pr),o(le,yt),o(yt,Lr),o(le,Hr),w(a,sn,E),w(a,Y,E),o(Y,De),o(De,wt),o(wt,Rr),o(De,zr),o(De,_t),o(_t,Ar),o(Y,Br),o(Y,$e),o($e,Et),o(Et,jr),o($e,qr),o($e,Mt),o(Mt,Fr),o(Y,Wr),o(Y,xe),o(xe,kt),o(kt,Xr),o(xe,Ur),o(xe,St),o(St,Yr),o(xe,Nt),o(Nt,he),o(he,Kr),o(he,Dt),o(Dt,Qr),o(he,Zr),o(he,$t),o($t,Jr),o(he,ea),o(Y,ta),o(Y,ve),o(ve,Gt),o(Gt,na),o(ve,ra),o(ve,It),o(It,aa),o(ve,Ot),o(Ot,de),o(de,ia),o(de,Tt),o(Tt,oa),o(de,la),o(de,Vt),o(Vt,sa),o(de,fa),w(a,fn,E),Io(Ge,a,E),un=!0},p:R,i(a){un||(ye(Ge.$$.fragment,a),un=!0)},o(a){Oo(Ge.$$.fragment,a),un=!1},d(a){a&&l(t),a&&l(r),a&&l(i),a&&l(u),a&&l(s),a&&l(x),a&&l(_),a&&l(F),a&&l(I),a&&l(C),a&&l(z),a&&l(L),a&&l(T),a&&l(Ee),a&&l(U),a&&l(At),a&&l(Te),a&&l(Bt),a&&l(Me),a&&l(jt),a&&l(Ve),a&&l(qt),a&&l(ie),a&&l(Ft),a&&l(pe),a&&l(Wt),a&&l(ge),a&&l(Xt),a&&l(Ce),a&&l(Ut),a&&l(Pe),a&&l(Yt),a&&l(oe),a&&l(Kt),a&&l(ke),a&&l(Qt),a&&l(Le),a&&l(Zt),a&&l(A),a&&l(Jt),a&&l(Se),a&&l(en),a&&l(B),a&&l(tn),a&&l(He),a&&l(nn),a&&l(j),a&&l(rn),a&&l(Ne),a&&l(an),a&&l(Re),a&&l(on),a&&l(H),a&&l(ln),a&&l(le),a&&l(sn),a&&l(Y),a&&l(fn),To(Ge,a)}}}const Yl={title:"Drawing a Bar Chart",date:"2022-10-19"},{title:to,date:Jl}=Yl;class es extends no{constructor(t){super(),ro(this,t,null,Ul,ao,{})}}export{es as default,Yl as metadata};
